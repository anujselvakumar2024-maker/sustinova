<!doctype html><html><head><meta charset="utf-8"><title>AgroSmart Live</title></head><body><div id="langSel"><select id="lang"><option value="en">English</option><option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option><option value="ne">à¤¨à¥‡à¤ªà¤¾à¤²à¥€</option></select></div><h2 data-t="live_status">Live Status</h2><div id="rainStatus">--</div><button id="startBtn" data-t="start">Start Pump</button><button id="stopBtn" data-t="stop">Stop Pump</button><script>const t={en:{live_status:'Live Status',start:'Start Pump',stop:'Stop Pump',raining:'ðŸŒ§ï¸ Raining',no_rain:'No rain'},hi:{live_status:'à¤²à¤¾à¤‡à¤µ à¤¸à¥à¤¥à¤¿à¤¤à¤¿',start:'à¤ªà¤‚à¤ª à¤šà¤¾à¤²à¥‚',stop:'à¤ªà¤‚à¤ª à¤¬à¤‚à¤¦',raining:'ðŸŒ§ï¸ à¤¬à¤¾à¤°à¤¿à¤¶',no_rain:'à¤•à¥‹à¤ˆ à¤¬à¤¾à¤°à¤¿à¤¶ à¤¨à¤¹à¥€à¤‚'},ne:{live_status:'à¤ªà¥à¤°à¤¤à¥à¤¯à¤•à¥à¤· à¤¸à¥à¤¥à¤¿à¤¤à¤¿',start:'à¤ªà¤®à¥à¤ª à¤¸à¥à¤°à¥',stop:'à¤ªà¤®à¥à¤ª à¤°à¥‹à¤•',raining:'ðŸŒ§ï¸ à¤µà¤°à¥à¤·à¤¾',no_rain:'à¤µà¤°à¥à¤·à¤¾ à¤›à¥ˆà¤¨'}};let lang='en';document.getElementById('lang').onchange=e=>{lang=e.target.value;tr()};function tr(){document.querySelectorAll('[data-t]').forEach(el=>{el.textContent=t[lang][el.dataset.t]})}tr();async function fetchSensors(){const r=await fetch('/api/sensors');const d=await r.json();document.getElementById('rainStatus').textContent=d.rain_detected?t[lang].raining:t[lang].no_rain;document.getElementById('startBtn').disabled=d.rain_detected}setInterval(fetchSensors,5000);document.getElementById('startBtn').onclick=()=>fetch('/api/irrigation/control',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action:'start',duration:5})});document.getElementById('stopBtn').onclick=()=>fetch('/api/irrigation/control',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action:'stop'})});fetchSensors();</script></body></html>