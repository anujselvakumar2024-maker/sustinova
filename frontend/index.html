<!doctype html><html><head><meta charset="utf-8"><title>AgroSmart Live</title></head><body><div id="langSel"><select id="lang"><option value="en">English</option><option value="hi">हिंदी</option><option value="ne">नेपाली</option></select></div><h2 data-t="live_status">Live Status</h2><div id="rainStatus">--</div><button id="startBtn" data-t="start">Start Pump</button><button id="stopBtn" data-t="stop">Stop Pump</button><script>const t={en:{live_status:'Live Status',start:'Start Pump',stop:'Stop Pump',raining:'🌧️ Raining',no_rain:'No rain'},hi:{live_status:'लाइव स्थिति',start:'पंप चालू',stop:'पंप बंद',raining:'🌧️ बारिश',no_rain:'कोई बारिश नहीं'},ne:{live_status:'प्रत्यक्ष स्थिति',start:'पम्प सुरु',stop:'पम्प रोक',raining:'🌧️ वर्षा',no_rain:'वर्षा छैन'}};let lang='en';document.getElementById('lang').onchange=e=>{lang=e.target.value;tr()};function tr(){document.querySelectorAll('[data-t]').forEach(el=>{el.textContent=t[lang][el.dataset.t]})}tr();async function fetchSensors(){const r=await fetch('/api/sensors');const d=await r.json();document.getElementById('rainStatus').textContent=d.rain_detected?t[lang].raining:t[lang].no_rain;document.getElementById('startBtn').disabled=d.rain_detected}setInterval(fetchSensors,5000);document.getElementById('startBtn').onclick=()=>fetch('/api/irrigation/control',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action:'start',duration:5})});document.getElementById('stopBtn').onclick=()=>fetch('/api/irrigation/control',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action:'stop'})});fetchSensors();</script></body></html>